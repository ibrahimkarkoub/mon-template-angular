<div class="div-main">
  <div class="title-page">
    <h2>Liste des Prospects</h2>
  </div>

  <div>
    <div style="display: flex; justify-content: right; padding: 30px">
      <button
        pButton
        pRipple
        *ngIf="user?.role == 'Employe' "
        label="Ajouter"
        (click)="openDialogAdd()"
        icon="pi pi-plus"
        class="p-button-success p-button-rounded"
      ></button>
    </div>

    <p-table
      [value]="prospects"
      [paginator]="true"
      [rows]="4"
      [showCurrentPageReport]="true"
      [tableStyle]="{ 'min-width': '50rem' }"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [rowsPerPageOptions]="[4, 8, 12, 16]"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>Telephone</th>
          <th>Nom prenom</th>

          <th>Adresse</th>
          <th>Job</th>
          <th>Age</th>
          <th>Genre</th>
          <th>Provenance</th>
          <th>Utilisateur</th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-prospects>
        <tr>
          <td>{{ prospects.numeroTelephone }}</td>
          <td>{{ prospects.prenom }} {{ prospects.nom }}</td>
          <td>{{ prospects.adresse }}</td>
          <td>{{ prospects.job }}</td>
          <td>{{ prospects.age }}</td>
          <td>{{ prospects.genre }}</td>
          <td>{{ prospects.provenance.reseauxSociaux }}</td>
          <td>
            {{ prospects.utilisateur?.firstName }}
            {{ prospects.utilisateur?.lastName }}
          </td>
          <td>
            <button
              pButton
              (click)="openDialogEdit(prospects)"
              icon="pi pi-pencil"
              class="p-button-rounded"
              severity="secondary"

            ></button>
            <button
              pButton
              icon="pi pi-trash"
              style="margin-left: 2px"
              (click)="delete(prospects.id)"
              class="p-button-rounded p-button-danger"
              severity="secondary"
              *ngIf="user?.role == 'Employe' "
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
