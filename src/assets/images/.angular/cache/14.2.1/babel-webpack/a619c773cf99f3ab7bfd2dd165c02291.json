{"ast":null,"code":"import _classCallCheck from \"C:/Users/MSI/Desktop/pfe/yas/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/MSI/Desktop/pfe/yas/angular/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { DialogAddUserComponent } from '../dialog-add-user/dialog-add-user.component';\nimport { DialogEditUserComponent } from '../dialog-edit-user/dialog-edit-user.component';\nimport { DialogViewUserComponent } from '../dialog-view-user/dialog-view-user.component';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/core/services/users.service\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"primeng/table\";\nimport * as i5 from \"primeng/button\";\n\nfunction ListeUserComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2, \"Identifiant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Pr\\xE9nom Nom\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Role\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 8);\n    i0.ɵɵtext(10, \"Actions\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"tr\")(12, \"th\");\n    i0.ɵɵelement(13, \"p-columnFilter\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵelement(15, \"p-columnFilter\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵelement(17, \"p-columnFilter\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\");\n    i0.ɵɵelement(19, \"p-columnFilter\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"th\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ListeUserComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"span\", 13);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ListeUserComponent_ng_template_9_Template_button_click_11_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r4);\n      var users_r2 = restoredCtx.$implicit;\n      var ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.openDialogEditUser(users_r2));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function ListeUserComponent_ng_template_9_Template_button_click_12_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r4);\n      var users_r2 = restoredCtx.$implicit;\n      var ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.delete(users_r2.id));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var users_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(users_r2.userName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", users_r2.firstName, \" \", users_r2.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(users_r2.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(users_r2.role);\n  }\n}\n\nvar _c0 = function _c0() {\n  return {\n    \"min-width\": \"50rem\"\n  };\n};\n\nvar _c1 = function _c1() {\n  return [4, 8, 12, 16];\n};\n\nexport var ListeUserComponent = /*#__PURE__*/function () {\n  function ListeUserComponent(dialog, usersService) {\n    _classCallCheck(this, ListeUserComponent);\n\n    this.dialog = dialog;\n    this.usersService = usersService;\n  }\n\n  _createClass(ListeUserComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.getUsers();\n    }\n  }, {\n    key: \"getUsers\",\n    value: function getUsers() {\n      var _this = this;\n\n      this.usersService.getAllUsers().subscribe(function (res) {\n        _this.users = res;\n\n        _this.users.reverse();\n      });\n    }\n  }, {\n    key: \"openDialogAddUser\",\n    value: function openDialogAddUser() {\n      var _this2 = this;\n\n      var dialogRef = this.dialog.open(DialogAddUserComponent, {});\n      dialogRef.afterClosed().subscribe(function (result) {\n        _this2.getUsers();\n      });\n    }\n  }, {\n    key: \"openDialogEditUser\",\n    value: function openDialogEditUser(data) {\n      var _this3 = this;\n\n      var dialogRef = this.dialog.open(DialogEditUserComponent, {\n        data: data\n      });\n      dialogRef.afterClosed().subscribe(function (result) {\n        _this3.getUsers();\n      });\n    }\n  }, {\n    key: \"openDialogViewUser\",\n    value: function openDialogViewUser() {\n      this.dialog.open(DialogViewUserComponent, {\n        maxHeight: '80vh'\n      });\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(item) {\n      var _this4 = this;\n\n      Swal.fire({\n        title: \"Êtes-vous sûr(e) ?\",\n        text: \"Vous ne pourrez pas revenir en arrière !\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Oui, supprimer !\"\n      }).then(function (result) {\n        if (result.isConfirmed) {\n          _this4.usersService.deleteUser(item).subscribe(function (res) {\n            Swal.fire({\n              title: \"Supprimé !\",\n              text: \"Le utilisateur a été supprimé.\",\n              icon: \"success\"\n            }).then(function () {\n              _this4.getUsers();\n            });\n          });\n        }\n      });\n    }\n  }]);\n\n  return ListeUserComponent;\n}();\n\nListeUserComponent.ɵfac = function ListeUserComponent_Factory(t) {\n  return new (t || ListeUserComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.UsersService));\n};\n\nListeUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListeUserComponent,\n  selectors: [[\"app-liste-user\"]],\n  decls: 10,\n  vars: 8,\n  consts: [[1, \"div-main\"], [1, \"title-page\"], [2, \"color\", \"#2eb165\"], [2, \"display\", \"flex\", \"justify-content\", \"right\", \"padding\", \"30px\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Ajouter\", \"icon\", \"pi pi-plus\", 1, \"p-button-success\", \"p-button-rounded\", 2, \"background-color\", \"#2eb165\", 3, \"click\"], [\"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"paginator\", \"rows\", \"showCurrentPageReport\", \"tableStyle\", \"rowsPerPageOptions\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [2, \"width\", \"20%\"], [\"type\", \"text\", \"field\", \"userName\"], [\"type\", \"text\", \"field\", \"firstName\"], [\"type\", \"text\", \"field\", \"email\"], [\"type\", \"text\", \"field\", \"role\"], [1, \"badge\", \"badge-soft-primary\"], [\"pButton\", \"\", \"icon\", \"pi pi-pencil\", \"severity\", \"secondary\", 1, \"p-button-rounded\", 3, \"click\"], [\"pButton\", \"\", \"icon\", \"pi pi-trash\", \"severity\", \"secondary\", 1, \"p-button-rounded\", \"p-button-danger\", 2, \"margin-left\", \"2px\", 3, \"click\"]],\n  template: function ListeUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n      i0.ɵɵtext(3, \"Liste des utilisateurs\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\")(5, \"div\", 3)(6, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ListeUserComponent_Template_button_click_6_listener() {\n        return ctx.openDialogAddUser();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"p-table\", 5);\n      i0.ɵɵtemplate(8, ListeUserComponent_ng_template_8_Template, 21, 0, \"ng-template\", 6);\n      i0.ɵɵtemplate(9, ListeUserComponent_ng_template_9_Template, 13, 5, \"ng-template\", 7);\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"value\", ctx.users)(\"paginator\", true)(\"rows\", 4)(\"showCurrentPageReport\", true)(\"tableStyle\", i0.ɵɵpureFunction0(6, _c0))(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(7, _c1));\n    }\n  },\n  dependencies: [i3.PrimeTemplate, i4.Table, i4.ColumnFilter, i5.ButtonDirective],\n  styles: [\".badge-soft-primary[_ngcontent-%COMP%] {\\n  color: #3b76e1 !important;\\n  background-color: rgba(59, 118, 225, 0.1);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3RlLXVzZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsY0FBQTtBQUNBO0VBQ0kseUJBQUE7RUFDQSx5Q0FBQTtBQUNKIiwiZmlsZSI6Imxpc3RlLXVzZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBTdHJ1Y3R1cmUgKi9cbi5iYWRnZS1zb2Z0LXByaW1hcnkge1xuICAgIGNvbG9yOiAjM2I3NmUxICFpbXBvcnRhbnQ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg1OSwxMTgsMjI1LC4xKTtcbn0iXX0= */\"]\n});","map":{"version":3,"mappings":"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","names":["DialogAddUserComponent","DialogEditUserComponent","DialogViewUserComponent","Swal","i0","ListeUserComponent","dialog","usersService","getUsers","getAllUsers","subscribe","users","res","reverse","dialogRef","open","afterClosed","data","maxHeight","item","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","deleteUser","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\MSI\\Desktop\\pfe\\yas\\angular\\src\\app\\modules\\user-management\\components\\liste-user\\liste-user.component.ts","C:\\Users\\MSI\\Desktop\\pfe\\yas\\angular\\src\\app\\modules\\user-management\\components\\liste-user\\liste-user.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { DialogAddUserComponent } from '../dialog-add-user/dialog-add-user.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DialogEditUserComponent } from '../dialog-edit-user/dialog-edit-user.component';\nimport { DialogViewUserComponent } from '../dialog-view-user/dialog-view-user.component';\nimport { UsersService } from 'src/app/core/services/users.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-liste-user',\n  templateUrl: './liste-user.component.html',\n  styleUrls: ['./liste-user.component.scss']\n})\nexport class ListeUserComponent implements OnInit {\n\n  users: any\n\n  constructor(\n    private dialog: MatDialog,\n    private usersService: UsersService\n  ) { }\n\n  ngOnInit(): void {\n    this.getUsers()\n  }\n\n  getUsers() {\n    this.usersService.getAllUsers().subscribe(res => {\n      this.users = res\n      this.users.reverse()\n    })\n  }\n\n\n  openDialogAddUser() {\n    const dialogRef = this.dialog.open(DialogAddUserComponent, {\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      this.getUsers()\n    });\n  }\n\n  openDialogEditUser(data: any) {\n    const dialogRef = this.dialog.open(DialogEditUserComponent, {\n      data: data\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      this.getUsers()\n    });\n  }\n\n  openDialogViewUser() {\n    this.dialog.open(DialogViewUserComponent, {\n      maxHeight: '80vh'\n    });\n  }\n\n  delete(item: any) {\n    Swal.fire({\n      title: \"Êtes-vous sûr(e) ?\",\n      text: \"Vous ne pourrez pas revenir en arrière !\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Oui, supprimer !\"\n    }).then((result) => {\n      if (result.isConfirmed) {\n        this.usersService.deleteUser(item).subscribe(res => {\n          Swal.fire({\n            title: \"Supprimé !\",\n            text: \"Le utilisateur a été supprimé.\",\n            icon: \"success\"\n          }).then(() => {\n            this.getUsers()\n          })\n        })\n      }\n    });\n  }\n\n\n}\n","<div class=\"div-main\">\n  <div class=\"title-page\">\n    <h2 style=\"color: #2eb165;\">Liste des utilisateurs</h2>\n\n  </div>\n\n  <div>\n    <div style=\"display: flex; justify-content: right; padding: 30px;\">\n\n      <button pButton pRipple label=\"Ajouter\" style=\"background-color: #2eb165;\" (click)=\"openDialogAddUser()\" icon=\"pi pi-plus\"\n        class=\"p-button-success p-button-rounded\"></button>\n    </div>\n\n    <p-table [value]=\"users\" [paginator]=\"true\" [rows]=\"4\" [showCurrentPageReport]=\"true\"\n      [tableStyle]=\"{ 'min-width': '50rem' }\"\n      currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\"\n      [rowsPerPageOptions]=\"[4, 8, 12 , 16]\">\n      <ng-template pTemplate=\"header\">\n        <tr>\n          <th >Identifiant</th>\n          <th >Prénom Nom</th>\n          <th >Email</th>\n          <th >Role</th>\n          <th style=\"width: 20%;\">Actions</th>\n        </tr>\n        <tr>\n          <th>\n            <p-columnFilter type=\"text\" field=\"userName\"></p-columnFilter>\n          </th>\n          <th>\n            <p-columnFilter type=\"text\" field=\"firstName\"></p-columnFilter>\n          </th>\n          <th>\n            <p-columnFilter type=\"text\" field=\"email\"></p-columnFilter>\n          </th>\n          <th>\n            <p-columnFilter type=\"text\" field=\"role\"></p-columnFilter>\n          </th>\n          <th>\n          </th>\n        </tr>\n      </ng-template>\n      <ng-template pTemplate=\"body\" let-users>\n        <tr>\n          <td ><span class=\"badge badge-soft-primary\">{{ users.userName }}</span> </td>\n          <td>{{ users.firstName }} {{ users.lastName }}</td>\n          <td>{{ users.email }}</td>\n          <td>{{ users.role }}</td>\n          <td>\n            <button pButton (click)=\"openDialogEditUser(users)\" icon=\"pi pi-pencil\" class=\"p-button-rounded\"\n              severity=\"secondary\"></button>\n            <button pButton icon=\"pi pi-trash\" style=\"margin-left: 2px;\" (click)=\"delete(users.id)\"\n              class=\"p-button-rounded p-button-danger\" severity=\"secondary\"></button>\n          </td>\n        </tr>\n      </ng-template>\n    </p-table>\n\n  </div>\n</div>"]},"metadata":{},"sourceType":"module"}