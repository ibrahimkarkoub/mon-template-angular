{"ast":null,"code":"import _classCallCheck from \"C:/Users/MSI/Desktop/pfe/yas/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/MSI/Desktop/pfe/yas/angular/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/core/services/auth.service\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/material/input\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/radio\";\nexport var DialogAddUserComponent = /*#__PURE__*/function () {\n  function DialogAddUserComponent(formBuilder, authService, dialogRef) {\n    _classCallCheck(this, DialogAddUserComponent);\n\n    this.formBuilder = formBuilder;\n    this.authService = authService;\n    this.dialogRef = dialogRef;\n  }\n\n  _createClass(DialogAddUserComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.userForm = this.formBuilder.group({\n        userName: ['', Validators.required],\n        firstName: ['', Validators.required],\n        lastName: ['', Validators.required],\n        email: ['', [Validators.required, Validators.email]],\n        phoneNumber: ['', Validators.required],\n        role: ['NURSE', Validators.required],\n        password: ['', [Validators.required, Validators.minLength(6)]]\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      var _this = this;\n\n      if (this.userForm.valid) {\n        console.log(this.userForm.value);\n        this.authService.registerService(this.userForm.value).subscribe(function (res) {\n          Swal.fire({\n            title: 'Succès !',\n            text: 'L\\'utilisateur a été ajouté avec succès.',\n            icon: 'success',\n            timer: 4000,\n            timerProgressBar: true,\n            showConfirmButton: false\n          }).then(function () {\n            _this.userForm.reset();\n\n            _this.dialogRef.close();\n          });\n        }, function (error) {\n          Swal.fire({\n            title: 'Erreur !',\n            text: \"quelque chose s'est mal passé.\",\n            icon: 'error',\n            timer: 4000,\n            timerProgressBar: true,\n            showConfirmButton: false\n          });\n        });\n      } else {\n        Swal.fire({\n          title: 'Erreur !',\n          text: 'Veuillez remplir tous les champs requis correctement.',\n          icon: 'error',\n          timer: 4000,\n          timerProgressBar: true,\n          showConfirmButton: false\n        });\n      }\n    }\n  }]);\n\n  return DialogAddUserComponent;\n}();\n\nDialogAddUserComponent.ɵfac = function DialogAddUserComponent_Factory(t) {\n  return new (t || DialogAddUserComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.MatDialogRef));\n};\n\nDialogAddUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DialogAddUserComponent,\n  selectors: [[\"app-dialog-add-user\"]],\n  decls: 56,\n  vars: 1,\n  consts: [[1, \"w-100\", \"title-dialog\"], [\"mat-dialog-content\", \"\", 1, \"dialog-user\"], [3, \"formGroup\"], [1, \"row\", \"mb-1\"], [1, \"col-xs-12\", \"col-sm-12\", \"col-md-12\", \"col-lg-12\", \"col-xl-12\", \"col-xxl-12\", \"mb-xs-3\", \"mb-sm-3\"], [1, \"row\"], [1, \"col\"], [\"appearance\", \"outline\"], [\"formControlName\", \"userName\", \"matInput\", \"\", \"placeholder\", \"Identifiant\"], [\"type\", \"password\", \"formControlName\", \"password\", \"matInput\", \"\", \"placeholder\", \"Mot de passe\"], [\"formControlName\", \"firstName\", \"matInput\", \"\", \"placeholder\", \"Pr\\xE9nom\"], [\"formControlName\", \"lastName\", \"matInput\", \"\", \"placeholder\", \"Nom\"], [\"formControlName\", \"email\", \"matInput\", \"\", \"placeholder\", \"Email\"], [\"formControlName\", \"phoneNumber\", \"matInput\", \"\", \"placeholder\", \"T\\xE9l\\xE9phone\"], [1, \"btn-radio-dialog\"], [\"formControlName\", \"role\", \"aria-label\", \"Select an option\"], [\"value\", \"NURSE\"], [\"value\", \"ADMIN\"], [1, \"row\", \"dialog-action\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"btn-save\", \"btn-dialog-action\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", \"mat-dialog-close\", \"\", 1, \"btn-cancel\", \"btn-dialog-action\"]],\n  template: function DialogAddUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"H2\");\n      i0.ɵɵtext(2, \"Ajouter un utilisateur\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"hr\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 1)(5, \"form\", 2)(6, \"div\", 3)(7, \"div\", 4)(8, \"div\", 5)(9, \"div\", 6)(10, \"mat-form-field\", 7)(11, \"mat-label\");\n      i0.ɵɵtext(12, \"Identifiant\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 6)(15, \"mat-form-field\", 7)(16, \"mat-label\");\n      i0.ɵɵtext(17, \"Mot de passe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 9);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 5)(20, \"div\", 6)(21, \"mat-form-field\", 7)(22, \"mat-label\");\n      i0.ɵɵtext(23, \"Pr\\xE9nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(24, \"input\", 10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 6)(26, \"mat-form-field\", 7)(27, \"mat-label\");\n      i0.ɵɵtext(28, \"Nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(29, \"input\", 11);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"div\", 5)(31, \"div\", 6)(32, \"mat-form-field\", 7)(33, \"mat-label\");\n      i0.ɵɵtext(34, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(35, \"input\", 12);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(36, \"div\", 6)(37, \"mat-form-field\", 7)(38, \"mat-label\");\n      i0.ɵɵtext(39, \"T\\xE9l\\xE9phone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(40, \"input\", 13);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(41, \"div\", 5)(42, \"div\", 6)(43, \"div\", 14)(44, \"mat-label\");\n      i0.ɵɵtext(45, \"Role \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"mat-radio-group\", 15)(47, \"mat-radio-button\", 16);\n      i0.ɵɵtext(48, \" NURSE\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"mat-radio-button\", 17);\n      i0.ɵɵtext(50, \" ADMIN\");\n      i0.ɵɵelementEnd()()()()()()()();\n      i0.ɵɵelementStart(51, \"div\", 18)(52, \"button\", 19);\n      i0.ɵɵlistener(\"click\", function DialogAddUserComponent_Template_button_click_52_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵtext(53, \"Ajout\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"button\", 20);\n      i0.ɵɵtext(55, \"Annuler\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.userForm);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i4.MatFormField, i4.MatLabel, i5.MatInput, i6.MatButton, i3.MatDialogClose, i3.MatDialogContent, i7.MatRadioGroup, i7.MatRadioButton, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkaWFsb2ctYWRkLXVzZXIuY29tcG9uZW50LnNjc3MifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","Swal","DialogAddUserComponent","formBuilder","authService","dialogRef","userForm","group","userName","required","firstName","lastName","email","phoneNumber","role","password","minLength","valid","console","log","value","registerService","subscribe","fire","title","text","icon","timer","timerProgressBar","showConfirmButton","then","reset","close","i0","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\MSI\\Desktop\\pfe\\yas\\angular\\src\\app\\modules\\user-management\\components\\dialog-add-user\\dialog-add-user.component.ts","C:\\Users\\MSI\\Desktop\\pfe\\yas\\angular\\src\\app\\modules\\user-management\\components\\dialog-add-user\\dialog-add-user.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-dialog-add-user',\n  templateUrl: './dialog-add-user.component.html',\n  styleUrls: ['./dialog-add-user.component.scss']\n})\nexport class DialogAddUserComponent implements OnInit {\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private authService: AuthService,\n    public dialogRef: MatDialogRef<DialogAddUserComponent>\n  ) { }\n  userForm!: FormGroup;\n\n\n  ngOnInit(): void {\n    this.userForm = this.formBuilder.group({\n      userName: ['', Validators.required],\n      firstName: ['', Validators.required],\n      lastName: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      phoneNumber: ['', Validators.required],\n      role: ['NURSE', Validators.required],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n\n  onSubmit() {\n    if (this.userForm.valid) {\n      console.log(this.userForm.value)\n      this.authService.registerService(this.userForm.value).subscribe(res => {\n        Swal.fire({\n          title: 'Succès !',\n          text: 'L\\'utilisateur a été ajouté avec succès.',\n          icon: 'success',\n          timer: 4000,\n          timerProgressBar: true,\n          showConfirmButton: false\n        }).then(() => {\n          this.userForm.reset();\n          this.dialogRef.close()\n        })\n      }, error => {\n        Swal.fire({\n          title: 'Erreur !',\n          text: \"quelque chose s'est mal passé.\",\n          icon: 'error',\n          timer: 4000,\n          timerProgressBar: true,\n          showConfirmButton: false\n        });\n      })\n    } else {\n      Swal.fire({\n        title: 'Erreur !',\n        text: 'Veuillez remplir tous les champs requis correctement.',\n        icon: 'error',\n        timer: 4000,\n        timerProgressBar: true,\n        showConfirmButton: false\n      });\n    }\n  }\n\n\n}\n","<div class=\"w-100 title-dialog\">\n    <H2>Ajouter un utilisateur</H2>\n    <hr>\n</div>\n\n\n<div mat-dialog-content class=\"dialog-user\">\n    <form [formGroup]=\"userForm\">\n        <div class=\"row mb-1\">\n            <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12 mb-xs-3 mb-sm-3\">\n                <div class=\"row\">\n                    <div class=\"col\">\n                        <mat-form-field appearance=\"outline\">\n                            <mat-label>Identifiant</mat-label>\n                            <input formControlName=\"userName\" matInput placeholder=\"Identifiant\">\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col\">\n                        <mat-form-field appearance=\"outline\">\n                            <mat-label>Mot de passe</mat-label>\n                            <input type=\"password\" formControlName=\"password\" matInput placeholder=\"Mot de passe\">\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col\">\n                        <mat-form-field appearance=\"outline\">\n                            <mat-label>Prénom</mat-label>\n                            <input formControlName=\"firstName\" matInput placeholder=\"Prénom\">\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col\">\n                        <mat-form-field appearance=\"outline\">\n                            <mat-label>Nom</mat-label>\n                            <input formControlName=\"lastName\" matInput placeholder=\"Nom\">\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col\">\n                        <mat-form-field appearance=\"outline\">\n                            <mat-label>Email</mat-label>\n                            <input formControlName=\"email\" matInput placeholder=\"Email\">\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col\">\n                        <mat-form-field appearance=\"outline\">\n                            <mat-label>Téléphone</mat-label>\n                            <input formControlName=\"phoneNumber\" matInput placeholder=\"Téléphone\">\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col\">\n                        <div class=\"btn-radio-dialog\">\n                            <mat-label>Role </mat-label>\n                            <mat-radio-group formControlName=\"role\" aria-label=\"Select an option\">\n                                <mat-radio-button value=\"NURSE\"> NURSE</mat-radio-button>\n                                <mat-radio-button value=\"ADMIN\"> ADMIN</mat-radio-button>\n                            </mat-radio-group>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </form>\n\n    <div class=\"row dialog-action\">\n        <button mat-raised-button class=\"btn-save btn-dialog-action\" (click)=\"onSubmit()\" color=\"primary\">Ajout</button>\n        <button mat-raised-button class=\"btn-cancel btn-dialog-action\" color=\"warn\" mat-dialog-close>Annuler</button>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module"}