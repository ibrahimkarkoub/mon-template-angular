{"ast":null,"code":"import _classCallCheck from \"C:/Users/MSI/Desktop/pfe/yas/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/MSI/Desktop/pfe/yas/angular/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { HttpRequest } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport var FileUploadService = /*#__PURE__*/function () {\n  function FileUploadService(http) {\n    _classCallCheck(this, FileUploadService);\n\n    this.http = http;\n    this.baseUrl = 'http://localhost:8081';\n  }\n\n  _createClass(FileUploadService, [{\n    key: \"upload\",\n    value: function upload(file, id) {\n      var formData = new FormData();\n      formData.append('file', file);\n      var req = new HttpRequest('POST', \"\".concat(this.baseUrl, \"/upload/\").concat(id), formData, {\n        reportProgress: true,\n        responseType: 'json'\n      });\n      return this.http.request(req);\n    }\n  }, {\n    key: \"getFiles\",\n    value: function getFiles() {\n      return this.http.get(\"\".concat(this.baseUrl, \"/files\"));\n    }\n  }]);\n\n  return FileUploadService;\n}();\n\nFileUploadService.ɵfac = function FileUploadService_Factory(t) {\n  return new (t || FileUploadService)(i0.ɵɵinject(i1.HttpClient));\n};\n\nFileUploadService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: FileUploadService,\n  factory: FileUploadService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AACA,SAAqBA,WAArB,QAAmD,sBAAnD;;;AAMA,WAAaC,iBAAb;EAGE,2BAAoBC,IAApB,EAAoC;IAAA;;IAAhB;IAFZ,eAAU,uBAAV;EAEiC;;EAH3C;IAAA;IAAA,OAKE,gBAAOC,IAAP,EAAoBC,EAApB,EAA0B;MACxB,IAAMC,QAAQ,GAAa,IAAIC,QAAJ,EAA3B;MAEAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBJ,IAAxB;MAEA,IAAMK,GAAG,GAAG,IAAIR,WAAJ,CAAgB,MAAhB,YAA2B,KAAKS,OAAhC,qBAAkDL,EAAlD,GAAwDC,QAAxD,EAAkE;QAC5EK,cAAc,EAAE,IAD4D;QAE5EC,YAAY,EAAE;MAF8D,CAAlE,CAAZ;MAKA,OAAO,KAAKT,IAAL,CAAUU,OAAV,CAAkBJ,GAAlB,CAAP;IACD;EAhBH;IAAA;IAAA,OAkBE,oBAAQ;MACN,OAAO,KAAKN,IAAL,CAAUW,GAAV,WAAiB,KAAKJ,OAAtB,YAAP;IACD;EApBH;;EAAA;AAAA;;;mBAAaR,mBAAiBa;AAAA;;;SAAjBb;EAAiBc,SAAjBd,iBAAiB;EAAAe,YAFhB","names":["HttpRequest","FileUploadService","http","file","id","formData","FormData","append","req","baseUrl","reportProgress","responseType","request","get","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\MSI\\Desktop\\pfe\\yas\\angular\\src\\app\\core\\services\\fileUploadService.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpRequest, HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FileUploadService {\r\n  private baseUrl = 'http://localhost:8081';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  upload(file: File , id:any): Observable<HttpEvent<any>> {\r\n    const formData: FormData = new FormData();\r\n\r\n    formData.append('file', file);\r\n\r\n    const req = new HttpRequest('POST', `${this.baseUrl}/upload/${id}`, formData, {\r\n      reportProgress: true,\r\n      responseType: 'json'\r\n    });\r\n\r\n    return this.http.request(req);\r\n  }\r\n\r\n  getFiles(): Observable<any> {\r\n    return this.http.get(`${this.baseUrl}/files`);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}